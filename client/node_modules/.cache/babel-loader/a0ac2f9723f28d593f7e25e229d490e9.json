{"ast":null,"code":"import _slicedToArray from \"/home/kevin/Documents/js_html_css/fitness_website/second_start/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/kevin/Documents/js_html_css/fitness_website/second_start/client/src/components/goals/list/Goals.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport GoalContext from '../../../contexts/goals/goalContext';\nimport GoalTable from './GoalTable';\nimport moment from 'moment';\n\nconst Goals = () => {\n  const goalContext = useContext(GoalContext);\n  const getGoals = goalContext.getGoals,\n        goals = goalContext.goals,\n        goalsLoading = goalContext.goalsLoading;\n  useEffect(() => {\n    getGoals(); //eslint-disable-next-line\n  }, []);\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        activeGoals = _useState2[0],\n        setActiveGoals = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        pastGoals = _useState4[0],\n        setPastGoals = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        activeCompetitions = _useState6[0],\n        setActiveCompetitions = _useState6[1];\n\n  const _useState7 = useState([]),\n        _useState8 = _slicedToArray(_useState7, 2),\n        pastCompetitions = _useState8[0],\n        setPastCompetitions = _useState8[1]; //create arrays for past and active goals and competitions\n\n\n  useEffect(() => {\n    let active = goals.filter(goal => moment().startOf('day').diff(goal.startDate, 'days') + 1 <= goal.duration);\n    setActiveGoals(active.filter(goal => goal.compId === null));\n    setActiveCompetitions(active.filter(goal => goal.compId !== null));\n    let past = goals.filter(goal => moment().startOf('day').diff(goal.startDate, 'days') + 1 > goal.duration);\n    setPastGoals(past.filter(goal => goal.compId === null));\n    setPastCompetitions(past.filter(goal => goal.compId !== null));\n  }, [goals]);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(GoalTable, {\n    goals: activeGoals,\n    isPast: false,\n    isGoal: true,\n    isOwner: true,\n    loading: goalsLoading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }), React.createElement(GoalTable, {\n    goals: activeCompetitions,\n    isPast: false,\n    isGoal: false,\n    isOwner: true,\n    loading: goalsLoading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }), React.createElement(GoalTable, {\n    goals: pastGoals,\n    isPast: true,\n    isGoal: true,\n    isOwner: true,\n    loading: goalsLoading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), React.createElement(GoalTable, {\n    goals: pastCompetitions,\n    isPast: true,\n    isGoal: false,\n    isOwner: true,\n    loading: goalsLoading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }));\n};\n\nexport default Goals;","map":{"version":3,"sources":["/home/kevin/Documents/js_html_css/fitness_website/second_start/client/src/components/goals/list/Goals.js"],"names":["React","useContext","useEffect","useState","GoalContext","GoalTable","moment","Goals","goalContext","getGoals","goals","goalsLoading","activeGoals","setActiveGoals","pastGoals","setPastGoals","activeCompetitions","setActiveCompetitions","pastCompetitions","setPastCompetitions","active","filter","goal","startOf","diff","startDate","duration","compId","past"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport GoalContext from '../../../contexts/goals/goalContext';\nimport GoalTable from './GoalTable';\nimport moment from 'moment';\n\nconst Goals = () => {\n  const goalContext = useContext(GoalContext);\n  const { getGoals, goals, goalsLoading } = goalContext;\n\n  useEffect(() => {\n    getGoals();\n    //eslint-disable-next-line\n  }, []);\n\n  const [activeGoals, setActiveGoals] = useState([]);\n  const [pastGoals, setPastGoals] = useState([]);\n  const [activeCompetitions, setActiveCompetitions] = useState([]);\n  const [pastCompetitions, setPastCompetitions] = useState([]);\n\n  //create arrays for past and active goals and competitions\n  useEffect(() => {\n    let active = goals.filter(goal => \n      (moment().startOf('day').diff(goal.startDate, 'days') + 1) <= goal.duration);\n    \n    setActiveGoals(active.filter(goal => goal.compId === null));\n    setActiveCompetitions(active.filter(goal => goal.compId !== null));\n\n    let past = goals.filter(goal => \n      (moment().startOf('day').diff(goal.startDate, 'days') + 1) > goal.duration);\n\n    setPastGoals(past.filter(goal => goal.compId === null));\n    setPastCompetitions(past.filter(goal => goal.compId !== null));\n\n  }, [goals]);\n\n  return (\n    <div>\n      <GoalTable\n        goals={activeGoals} \n        isPast={false} \n        isGoal={true}\n        isOwner={true}\n        loading={goalsLoading}\n      />\n      <GoalTable\n        goals={activeCompetitions}\n        isPast={false} \n        isGoal={false}\n        isOwner={true}\n        loading={goalsLoading}\n      />\n      <GoalTable\n        goals={pastGoals}\n        isPast={true} \n        isGoal={true}\n        isOwner={true}\n        loading={goalsLoading}\n      />\n      <GoalTable\n        goals={pastCompetitions}\n        isPast={true} \n        isGoal={false}\n        isOwner={true}\n        loading={goalsLoading}\n      />\n    </div>\n  );\n};\n\nexport default Goals;"]},"metadata":{},"sourceType":"module"}