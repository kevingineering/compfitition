{"ast":null,"code":"var _jsxFileName = \"/home/kevin/Documents/js_html_css/fitness_website/second_start/client/src/components/goals/GoalPage.js\";\nimport React, { useContext } from 'react';\nimport GoalContext from '../../contexts/goals/goalContext';\nimport AlertContext from '../../contexts/alerts/alertContext';\nimport GoalPassFail from './GoalPassFail';\nimport GoalTotal from './GoalTotal';\nimport GoalDifference from './GoalDifference';\nimport moment from 'moment';\nimport GoalButtons from './goalPieces/GoalButtons';\n\nconst GoalPage = props => {\n  const _useContext = useContext(GoalContext),\n        goalCurrent = _useContext.goalCurrent,\n        goalsError = _useContext.goalsError,\n        updateGoalTracker = _useContext.updateGoalTracker;\n\n  const _useContext2 = useContext(AlertContext),\n        setAlert = _useContext2.setAlert;\n\n  const name = goalCurrent.name,\n        _id = goalCurrent._id,\n        type = goalCurrent.type,\n        startDate = goalCurrent.startDate,\n        duration = goalCurrent.duration;\n  !Object.entries(goalCurrent).length && props.history.push('/');\n  let timeHours = moment().startOf('day').diff(startDate, 'hours');\n  const isStarted = timeHours >= 0 ? true : false;\n  let time = moment().startOf('day').diff(startDate, 'days');\n  if (time > duration) time = duration;\n\n  const handleSave = async record => {\n    await updateGoalTracker(record, _id);\n\n    if (goalsError) {\n      setAlert(goalsError);\n    } else {\n      setAlert('Goal saved!');\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"form-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, !Object.entries(goalCurrent).length ? React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"Loading...\") : React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    className: \"collection-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, name), type === 'pass/fail' && React.createElement(GoalPassFail, {\n    goal: goalCurrent,\n    handleSave: handleSave,\n    isOwner: true,\n    time: time,\n    isStarted: isStarted,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), type === 'total' && React.createElement(GoalTotal, {\n    goal: goalCurrent,\n    handleSave: handleSave,\n    isOwner: true,\n    time: time,\n    isStarted: isStarted,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), type === 'difference' && React.createElement(GoalDifference, {\n    goal: goalCurrent,\n    handleSave: handleSave,\n    isOwner: true,\n    time: time,\n    isStarted: isStarted,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(GoalButtons, {\n    isActive: time <= duration,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  })));\n};\n\nexport default GoalPage;","map":{"version":3,"sources":["/home/kevin/Documents/js_html_css/fitness_website/second_start/client/src/components/goals/GoalPage.js"],"names":["React","useContext","GoalContext","AlertContext","GoalPassFail","GoalTotal","GoalDifference","moment","GoalButtons","GoalPage","props","goalCurrent","goalsError","updateGoalTracker","setAlert","name","_id","type","startDate","duration","Object","entries","length","history","push","timeHours","startOf","diff","isStarted","time","handleSave","record"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react';\nimport GoalContext from '../../contexts/goals/goalContext';\nimport AlertContext from '../../contexts/alerts/alertContext';\nimport GoalPassFail from './GoalPassFail';\nimport GoalTotal from './GoalTotal';\nimport GoalDifference from './GoalDifference';\nimport moment from 'moment';\nimport GoalButtons from './goalPieces/GoalButtons';\n\nconst GoalPage = props => {\n  const { goalCurrent, goalsError, updateGoalTracker } = useContext(GoalContext);\n\n  const { setAlert } = useContext(AlertContext);\n\n  const { name, _id, type, startDate, duration } = goalCurrent;\n\n  !Object.entries(goalCurrent).length && props.history.push('/');\n\n  let timeHours = moment().startOf('day').diff(startDate, 'hours');\n  const isStarted = timeHours >= 0 ? true : false;\n  let time = moment().startOf('day').diff(startDate, 'days');\n  if (time > duration)\n    time = duration;\n\n  const handleSave = async (record) => {\n    await updateGoalTracker(record, _id);\n    if (goalsError) {\n      setAlert(goalsError);\n    }\n    else {\n      setAlert('Goal saved!');\n    }\n  }\n\n  return (\n    <div className='form-container'>\n    {!Object.entries(goalCurrent).length ? (\n      <h2>Loading...</h2>\n    ) : (\n      <React.Fragment>\n        <h2 className='collection-header'>{name}</h2>\n        {type === 'pass/fail' && \n          <GoalPassFail \n            goal={goalCurrent} \n            handleSave={handleSave} \n            isOwner={true}\n            time={time}\n            isStarted={isStarted}\n          />\n        }\n        {type === 'total' && \n          <GoalTotal \n            goal={goalCurrent} \n            handleSave={handleSave} \n            isOwner={true}\n            time={time}\n            isStarted={isStarted}\n          />\n        }\n        {type === 'difference' && \n          <GoalDifference \n            goal={goalCurrent} \n            handleSave={handleSave} \n            isOwner={true}\n            time={time}\n            isStarted={isStarted}\n          />\n        }\n        <GoalButtons isActive={time <= duration} />\n      </React.Fragment>\n    )}\n    </div>\n  )\n}\n\nexport default GoalPage;"]},"metadata":{},"sourceType":"module"}