{"ast":null,"code":"var _jsxFileName = \"/home/kevin/Documents/js_html_css/fitness_website/second_start/client/src/components/searchableUsers/SearchPage.js\";\nimport React, { useContext, useRef, useEffect } from 'react';\nimport SearchableUsersContext from '../../contexts/searchableUsers/searchableUsersContext';\nimport RequestsContext from '../../contexts/requests/requestContext';\nimport SearchResults from './SearchResults';\n\nconst SearchPage = () => {\n  const searchableUsersContext = useContext(SearchableUsersContext);\n  const getSearchableUsers = searchableUsersContext.getSearchableUsers,\n        filterSearchableUsers = searchableUsersContext.filterSearchableUsers,\n        clearSearchableUsers = searchableUsersContext.clearSearchableUsers,\n        clearSearchableUsersFilter = searchableUsersContext.clearSearchableUsersFilter;\n  const requestsContext = useContext(RequestsContext);\n  const clearRequests = requestsContext.clearRequests; //useState is async, so we use useRef which is sync\n\n  const text = useRef(''); //get users and clear everything when navigating away from page\n\n  useEffect(() => {\n    getSearchableUsers();\n    return () => {\n      clearSearchableUsers();\n      clearRequests();\n    }; //eslint-disable-next-line\n  }, []);\n\n  const handleChange = e => {\n    if (text.current.value) filterSearchableUsers(e.target.value);else clearSearchableUsersFilter();\n  };\n\n  return React.createElement(\"div\", {\n    className: \"form-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    ref: text,\n    placeholder: \"Search Users\",\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  })), React.createElement(\"ul\", {\n    className: \"collection\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    className: \"collection-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Search Results\")), React.createElement(SearchResults, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  })));\n};\n\nexport default SearchPage;","map":{"version":3,"sources":["/home/kevin/Documents/js_html_css/fitness_website/second_start/client/src/components/searchableUsers/SearchPage.js"],"names":["React","useContext","useRef","useEffect","SearchableUsersContext","RequestsContext","SearchResults","SearchPage","searchableUsersContext","getSearchableUsers","filterSearchableUsers","clearSearchableUsers","clearSearchableUsersFilter","requestsContext","clearRequests","text","handleChange","e","current","value","target"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,MAA5B,EAAoCC,SAApC,QAAqD,OAArD;AACA,OAAOC,sBAAP,MAAmC,uDAAnC;AACA,OAAOC,eAAP,MAA4B,wCAA5B;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;AAEA,MAAMC,UAAU,GAAG,MAAM;AACvB,QAAMC,sBAAsB,GAAGP,UAAU,CAACG,sBAAD,CAAzC;AADuB,QAGrBK,kBAHqB,GAOnBD,sBAPmB,CAGrBC,kBAHqB;AAAA,QAIrBC,qBAJqB,GAOnBF,sBAPmB,CAIrBE,qBAJqB;AAAA,QAKrBC,oBALqB,GAOnBH,sBAPmB,CAKrBG,oBALqB;AAAA,QAMrBC,0BANqB,GAOnBJ,sBAPmB,CAMrBI,0BANqB;AASvB,QAAMC,eAAe,GAAGZ,UAAU,CAACI,eAAD,CAAlC;AATuB,QAUfS,aAVe,GAUGD,eAVH,CAUfC,aAVe,EAYvB;;AACA,QAAMC,IAAI,GAAGb,MAAM,CAAC,EAAD,CAAnB,CAbuB,CAevB;;AACAC,EAAAA,SAAS,CAAC,MAAM;AACdM,IAAAA,kBAAkB;AAClB,WAAO,MAAM;AACXE,MAAAA,oBAAoB;AACpBG,MAAAA,aAAa;AACd,KAHD,CAFc,CAMd;AACD,GAPQ,EAON,EAPM,CAAT;;AASA,QAAME,YAAY,GAAGC,CAAC,IAAI;AACxB,QAAIF,IAAI,CAACG,OAAL,CAAaC,KAAjB,EACET,qBAAqB,CAACO,CAAC,CAACG,MAAF,CAASD,KAAV,CAArB,CADF,KAGEP,0BAA0B;AAC7B,GALD;;AAOA,SACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,GAAG,EAAEG,IAFP;AAGE,IAAA,WAAW,EAAC,cAHd;AAIE,IAAA,QAAQ,EAAEC,YAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EASE;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,CADF,EAIE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CATF,CADF;AAkBD,CAlDD;;AAoDA,eAAeT,UAAf","sourcesContent":["import React, { useContext, useRef, useEffect } from 'react';\nimport SearchableUsersContext from '../../contexts/searchableUsers/searchableUsersContext';\nimport RequestsContext from '../../contexts/requests/requestContext';\nimport SearchResults from './SearchResults';\n\nconst SearchPage = () => {\n  const searchableUsersContext = useContext(SearchableUsersContext);\n  const { \n    getSearchableUsers, \n    filterSearchableUsers, \n    clearSearchableUsers, \n    clearSearchableUsersFilter\n  } = searchableUsersContext;\n\n  const requestsContext = useContext(RequestsContext);\n  const { clearRequests } = requestsContext;\n\n  //useState is async, so we use useRef which is sync\n  const text = useRef('');\n\n  //get users and clear everything when navigating away from page\n  useEffect(() => {\n    getSearchableUsers();\n    return () => {\n      clearSearchableUsers();\n      clearRequests();\n    }\n    //eslint-disable-next-line\n  }, []);\n\n  const handleChange = e => {\n    if (text.current.value)\n      filterSearchableUsers(e.target.value);\n    else\n      clearSearchableUsersFilter();\n  };\n\n  return (\n    <div className='form-container'>\n      <form>\n        <input \n          type='text'\n          ref={text}\n          placeholder='Search Users'\n          onChange={handleChange}\n        />\n      </form>\n      <ul className='collection'>\n        <li className='collection-header'>\n          <h2>Search Results</h2>\n        </li>\n        <SearchResults/>\n      </ul>\n    </div>\n  );\n};\n\nexport default SearchPage;"]},"metadata":{},"sourceType":"module"}