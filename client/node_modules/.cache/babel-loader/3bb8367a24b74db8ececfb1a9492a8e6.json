{"ast":null,"code":"import _objectSpread from \"/home/kevin/Documents/js_html_css/fitness_website/second_start/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/kevin/Documents/js_html_css/fitness_website/second_start/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/kevin/Documents/js_html_css/fitness_website/second_start/client/src/components/auth/UserPage.js\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport AuthContext from '../../contexts/auth/authContext';\nimport AlertContext from '../../contexts/alerts/alertContext';\n\nconst UserPage = props => {\n  const authContext = useContext(AuthContext);\n  const user = authContext.user,\n        updateUser = authContext.updateUser,\n        isAuthenticated = authContext.isAuthenticated,\n        error = authContext.error,\n        clearUserErrors = authContext.clearUserErrors;\n  const alertContext = useContext(AlertContext);\n  const setAlert = alertContext.setAlert,\n        clearAlerts = alertContext.clearAlerts;\n\n  const _useState = useState({\n    firstName: '',\n    lastName: '',\n    alias: '',\n    searchable: true,\n    email: '',\n    password: '',\n    newPassword: '',\n    newPassword2: '',\n    resetPassword: false\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        current = _useState2[0],\n        setCurrent = _useState2[1]; //populate current with user values\n\n\n  useEffect(() => {\n    setCurrent(_objectSpread({}, user));\n  }, [user]); //redirect if not authenticated, set alert if error\n\n  useEffect(() => {\n    if (!isAuthenticated || user === null) props.history.push('/');\n\n    if (error) {\n      setAlert(error);\n      clearUserErrors();\n    } //eslint-disable-next-line\n\n  }, [error, isAuthenticated, props.history]);\n  const firstName = current.firstName,\n        lastName = current.lastName,\n        alias = current.alias,\n        searchable = current.searchable,\n        email = current.email,\n        password = current.password,\n        newPassword = current.newPassword,\n        newPassword2 = current.newPassword2,\n        resetPassword = current.resetPassword;\n\n  const handleSubmit = e => {\n    e.preventDefault();\n  };\n\n  const handleChange = e => {\n    setCurrent(_objectSpread({}, current, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const handleClick = e => {\n    setCurrent(_objectSpread({}, current, {\n      searchable: !searchable\n    }));\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, props.match.params.id, React.createElement(\"input\", {\n    type: \"button\",\n    value: \"Edit User\",\n    className: \"btn btn-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"button\",\n    value: \"Delete User\",\n    className: \"btn btn-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }));\n};\n\nexport default UserPage;","map":{"version":3,"sources":["/home/kevin/Documents/js_html_css/fitness_website/second_start/client/src/components/auth/UserPage.js"],"names":["React","useContext","useState","useEffect","AuthContext","AlertContext","UserPage","props","authContext","user","updateUser","isAuthenticated","error","clearUserErrors","alertContext","setAlert","clearAlerts","firstName","lastName","alias","searchable","email","password","newPassword","newPassword2","resetPassword","current","setCurrent","history","push","handleSubmit","e","preventDefault","handleChange","target","name","value","handleClick","match","params","id"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport AuthContext from '../../contexts/auth/authContext';\nimport AlertContext from '../../contexts/alerts/alertContext';\n\nconst UserPage = props => {\n  const authContext = useContext(AuthContext);\n  const { user, updateUser, isAuthenticated, error, clearUserErrors } = authContext;\n  \n  const alertContext = useContext(AlertContext);\n  const { setAlert, clearAlerts } = alertContext;\n  \n  const [current, setCurrent] = useState({\n    firstName: '',\n    lastName: '',\n    alias: '',\n    searchable: true,\n    email: '',\n    password: '',\n    newPassword: '',\n    newPassword2: '',\n    resetPassword: false\n  });\n\n  //populate current with user values\n  useEffect(() => {\n    setCurrent({...user});\n  },[user])\n\n  //redirect if not authenticated, set alert if error\n  useEffect(() => {\n    if (!isAuthenticated || user === null)\n      props.history.push('/');\n    if (error) {\n      setAlert(error);\n      clearUserErrors();\n    }\n    //eslint-disable-next-line\n  }, [error, isAuthenticated, props.history]);\n\n\n  const { firstName, lastName, alias, searchable, email, password, newPassword, newPassword2, resetPassword} = current;\n\n  const handleSubmit = e => {\n    e.preventDefault();\n  }\n\n  const handleChange = e => {\n    setCurrent({...current, [e.target.name]: e.target.value});\n  }\n  \n  const handleClick = e => {\n    setCurrent({ ...current, searchable: !searchable });\n  };\n\n  return (\n    <div>\n      {props.match.params.id}\n\n      <input\n        type='button'\n        value='Edit User'\n        className='btn btn-primary'\n      />\n      <input\n        type='button'\n        value='Delete User'\n        className='btn btn-danger'\n      />\n\n    </div>\n  )\n}\n\nexport default UserPage;"]},"metadata":{},"sourceType":"module"}