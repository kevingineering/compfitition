{"ast":null,"code":"var _jsxFileName = \"/home/kevin/Documents/js_html_css/fitness_website/second_start/client/src/components/goals/GoalChartPassFail.js\";\nimport React from 'react';\nimport moment from 'moment';\nimport AlertContext from '../../contexts/alerts/alertContext';\n\nconst GoalChartPassFail = ({\n  isComplete,\n  isOwner,\n  isStarted,\n  time,\n  record,\n  setRecord,\n  duration,\n  startDate,\n  total\n}) => {\n  const _useContext = useContext(AlertContext),\n        setAlert = _useContext.setAlert; //event.target will get the icon and fail, but event.currentTarget will get the button every time\n\n\n  const handleClick = e => {\n    if (isComplete || !isOwner) {\n      return null;\n    }\n\n    let clickLoc = parseInt(e.currentTarget.name);\n\n    if (isStarted || time < clickLoc) {\n      setAlert(\"You can't record the future.\");\n    } else if (time === clickLoc || time === clickLoc + 1) {\n      setRecord(record.map((value, index) => {\n        if (index === clickLoc) {\n          if (value === null || value === false) {\n            value = true;\n          } else value = false;\n        }\n\n        return value;\n      }));\n    } else {\n      setAlert(\"You can only record data for today and yesterday.\");\n    }\n  }; //create table\n\n\n  const table = () => {\n    let list = [];\n\n    for (let i = 0; i < duration / 7; i++) {\n      list.push(React.createElement(\"span\", {\n        className: \"table-row\",\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"table-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, \"Week \", i + 1, React.createElement(\"span\", {\n        className: \"hide-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, '', \" - \", moment.utc(startDate).add(7 * i, 'day').format('MMM Do'))), React.createElement(\"span\", {\n        className: \"table-buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, buttons(i))));\n    }\n\n    return list;\n  }; //create buttons for table\n\n\n  const buttons = week => {\n    let list = [];\n\n    for (let i = 0; i < total; i++) {\n      let loc = week * total + i;\n      list.push(React.createElement(\"button\", {\n        className: `table-btn ${time === loc && 'table-btn-today'}`,\n        onClick: handleClick,\n        key: loc,\n        name: loc,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, record[loc] && React.createElement(\"i\", {\n        className: \"fas fa-check success-color\",\n        name: loc,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), !record[loc] && record[loc] !== null && React.createElement(\"i\", {\n        className: \"fas fa-times danger-color\",\n        name: loc,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), record[loc] === null && ' '));\n    }\n\n    return list;\n  };\n\n  return React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, table());\n};\n\nexport default GoalChartPassFail;","map":{"version":3,"sources":["/home/kevin/Documents/js_html_css/fitness_website/second_start/client/src/components/goals/GoalChartPassFail.js"],"names":["React","moment","AlertContext","GoalChartPassFail","isComplete","isOwner","isStarted","time","record","setRecord","duration","startDate","total","useContext","setAlert","handleClick","e","clickLoc","parseInt","currentTarget","name","map","value","index","table","list","i","push","utc","add","format","buttons","week","loc"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,YAAP,MAAyB,oCAAzB;;AAEA,MAAMC,iBAAiB,GAAG,CAAC;AAACC,EAAAA,UAAD;AAAaC,EAAAA,OAAb;AAAsBC,EAAAA,SAAtB;AAAiCC,EAAAA,IAAjC;AAAuCC,EAAAA,MAAvC;AAA+CC,EAAAA,SAA/C;AAA0DC,EAAAA,QAA1D;AAAoEC,EAAAA,SAApE;AAA+EC,EAAAA;AAA/E,CAAD,KAA2F;AAAA,sBAE9FC,UAAU,CAACX,YAAD,CAFoF;AAAA,QAE3GY,QAF2G,eAE3GA,QAF2G,EAInH;;;AACA,QAAMC,WAAW,GAAGC,CAAC,IAAI;AACvB,QAAIZ,UAAU,IAAI,CAACC,OAAnB,EAA4B;AAC1B,aAAO,IAAP;AACD;;AACD,QAAIY,QAAQ,GAAGC,QAAQ,CAACF,CAAC,CAACG,aAAF,CAAgBC,IAAjB,CAAvB;;AACA,QAAId,SAAS,IAAIC,IAAI,GAAGU,QAAxB,EAAkC;AAChCH,MAAAA,QAAQ,CAAC,8BAAD,CAAR;AACD,KAFD,MAGK,IAAIP,IAAI,KAAKU,QAAT,IAAqBV,IAAI,KAAKU,QAAQ,GAAG,CAA7C,EAAgD;AACnDR,MAAAA,SAAS,CAACD,MAAM,CAACa,GAAP,CAAW,CAACC,KAAD,EAAQC,KAAR,KAAkB;AACrC,YAAIA,KAAK,KAAKN,QAAd,EAAwB;AACtB,cAAIK,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAhC,EAAuC;AACrCA,YAAAA,KAAK,GAAG,IAAR;AACD,WAFD,MAGKA,KAAK,GAAG,KAAR;AACN;;AACD,eAAOA,KAAP;AACD,OARS,CAAD,CAAT;AASD,KAVI,MAWA;AACHR,MAAAA,QAAQ,CAAC,mDAAD,CAAR;AACD;AACF,GAtBD,CALmH,CA6BnH;;;AACA,QAAMU,KAAK,GAAG,MAAM;AAClB,QAAIC,IAAI,GAAG,EAAX;;AACA,SAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGhB,QAAQ,GAAG,CAA9B,EAAiCgB,CAAC,EAAlC,EAAsC;AACpCD,MAAAA,IAAI,CAACE,IAAL,CACE;AAAM,QAAA,SAAS,EAAC,WAAhB;AAA4B,QAAA,GAAG,EAAED,CAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAoCA,CAAC,GAAG,CAAxC,EACE;AAAM,QAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,EADH,SACUzB,MAAM,CAAC2B,GAAP,CAAWjB,SAAX,EAAsBkB,GAAtB,CAA0B,IAAIH,CAA9B,EAAiC,KAAjC,EAAwCI,MAAxC,CAA+C,QAA/C,CADV,CADF,CADF,EAME;AAAM,QAAA,SAAS,EAAC,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGC,OAAO,CAACL,CAAD,CADV,CANF,CADF;AAWD;;AACD,WAAOD,IAAP;AACD,GAhBD,CA9BmH,CAgDnH;;;AACA,QAAMM,OAAO,GAAGC,IAAI,IAAI;AACtB,QAAIP,IAAI,GAAG,EAAX;;AACA,SAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGd,KAAnB,EAA0Bc,CAAC,EAA3B,EAA+B;AAC7B,UAAIO,GAAG,GAAGD,IAAI,GAAGpB,KAAP,GAAec,CAAzB;AACAD,MAAAA,IAAI,CAACE,IAAL,CACE;AACE,QAAA,SAAS,EAAG,aAAYpB,IAAI,KAAK0B,GAAT,IAAgB,iBAAkB,EAD5D;AAEE,QAAA,OAAO,EAAElB,WAFX;AAGE,QAAA,GAAG,EAAEkB,GAHP;AAIE,QAAA,IAAI,EAAEA,GAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAMGzB,MAAM,CAACyB,GAAD,CAAN,IAAe;AAAG,QAAA,SAAS,EAAC,4BAAb;AAA0C,QAAA,IAAI,EAAEA,GAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANlB,EAOG,CAACzB,MAAM,CAACyB,GAAD,CAAP,IAAgBzB,MAAM,CAACyB,GAAD,CAAN,KAAgB,IAAhC,IAAwC;AAAG,QAAA,SAAS,EAAC,2BAAb;AAAyC,QAAA,IAAI,EAAEA,GAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAP3C,EAQGzB,MAAM,CAACyB,GAAD,CAAN,KAAgB,IAAhB,IAAwB,GAR3B,CADF;AAYD;;AACD,WAAOR,IAAP;AACD,GAlBD;;AAoBA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,KAAK,EADR,CADF;AAKD,CA1ED;;AA4EA,eAAerB,iBAAf","sourcesContent":["import React from 'react';\nimport moment from 'moment';\nimport AlertContext from '../../contexts/alerts/alertContext';\n\nconst GoalChartPassFail = ({isComplete, isOwner, isStarted, time, record, setRecord, duration, startDate, total}) => {\n\n  const { setAlert } = useContext(AlertContext);\n\n  //event.target will get the icon and fail, but event.currentTarget will get the button every time\n  const handleClick = e => {\n    if (isComplete || !isOwner) {\n      return null;\n    }\n    let clickLoc = parseInt(e.currentTarget.name);\n    if (isStarted || time < clickLoc) {\n      setAlert(\"You can't record the future.\");\n    }\n    else if (time === clickLoc || time === clickLoc + 1) {\n      setRecord(record.map((value, index) => {\n        if (index === clickLoc) {\n          if (value === null || value === false) {\n            value = true;\n          }\n          else value = false;\n        }\n        return value;\n      }))\n    }\n    else {\n      setAlert(\"You can only record data for today and yesterday.\");\n    }\n  };\n\n  //create table\n  const table = () => {\n    let list = [];\n    for(let i = 0; i < duration / 7; i++) {\n      list.push(\n        <span className='table-row' key={i}>\n          <span className='table-label'>Week {i + 1}\n            <span className='hide-sm'>\n              {''} - {moment.utc(startDate).add(7 * i, 'day').format('MMM Do')}\n            </span>\n          </span>\n          <span className='table-buttons'>\n            {buttons(i)}\n          </span>\n        </span>);\n    }\n    return list;\n  };\n\n  //create buttons for table\n  const buttons = week => {\n    let list = [];\n    for(let i = 0; i < total; i++) {\n      let loc = week * total + i;\n      list.push(\n        <button \n          className={`table-btn ${time === loc && 'table-btn-today'}`}\n          onClick={handleClick} \n          key={loc} \n          name={loc} \n        >\n          {record[loc] && <i className='fas fa-check success-color' name={loc}/>}\n          {!record[loc] && record[loc] !== null && <i className='fas fa-times danger-color' name={loc}/>}\n          {record[loc] === null && ' '}\n        </button>\n      )\n    }\n    return list;\n  };\n\n  return (\n    <li>\n      {table()}\n    </li>\n  )\n}\n\nexport default GoalChartPassFail;"]},"metadata":{},"sourceType":"module"}