{"ast":null,"code":"var _jsxFileName = \"/home/kevin/Documents/js_html_css/fitness_website/second_start/client/src/components/searchableUsers/SearchPage.js\";\nimport React, { useContext, useRef, useEffect } from 'react';\nimport SearchableUsersContext from '../../contexts/searchableUsers/searchableUsersContext';\nimport RequestsContext from '../../contexts/requests/requestContext';\nimport SearchResults from './SearchResults';\n\nconst SearchPage = () => {\n  const searchableUsersContext = useContext(SearchableUsersContext);\n  const getSearchableUsers = searchableUsersContext.getSearchableUsers,\n        filterSearchableUsers = searchableUsersContext.filterSearchableUsers,\n        clearSearchableUsers = searchableUsersContext.clearSearchableUsers,\n        clearSearchableUsersFilter = searchableUsersContext.clearSearchableUsersFilter,\n        clearSearchableUsersErrors = searchableUsersContext.clearSearchableUsersErrors;\n  const requestsContext = useContext(RequestsContext);\n  const getRequests = requestsContext.getRequests,\n        clearRequests = requestsContext.clearRequests,\n        clearRequestsError = requestsContext.clearRequestsError; //useState is async, so we use useRef which is sync\n\n  const text = useRef(''); //get users and clear everything when navigating away from page\n\n  useEffect(() => {\n    getSearchableUsers();\n    return () => {\n      clearSearchableUsers();\n      clearSearchableUsersFilter();\n      clearSearchableUsersErrors();\n      clearRequests();\n      clearRequestsError();\n    }; //eslint-disable-next-line\n  }, []);\n\n  const handleChange = e => {\n    if (text.current.value) filterSearchableUsers(e.target.value);else clearSearchableUsersFilter();\n  };\n\n  return React.createElement(\"div\", {\n    className: \"form-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    ref: text,\n    placeholder: \"Search Users\",\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  })), React.createElement(\"ul\", {\n    className: \"collection\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    className: \"collection-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Search Results\")), React.createElement(SearchResults, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  })));\n};\n\nexport default SearchPage;","map":{"version":3,"sources":["/home/kevin/Documents/js_html_css/fitness_website/second_start/client/src/components/searchableUsers/SearchPage.js"],"names":["React","useContext","useRef","useEffect","SearchableUsersContext","RequestsContext","SearchResults","SearchPage","searchableUsersContext","getSearchableUsers","filterSearchableUsers","clearSearchableUsers","clearSearchableUsersFilter","clearSearchableUsersErrors","requestsContext","getRequests","clearRequests","clearRequestsError","text","handleChange","e","current","value","target"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,MAA5B,EAAoCC,SAApC,QAAqD,OAArD;AACA,OAAOC,sBAAP,MAAmC,uDAAnC;AACA,OAAOC,eAAP,MAA4B,wCAA5B;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;AAEA,MAAMC,UAAU,GAAG,MAAM;AACvB,QAAMC,sBAAsB,GAAGP,UAAU,CAACG,sBAAD,CAAzC;AADuB,QAGrBK,kBAHqB,GAQnBD,sBARmB,CAGrBC,kBAHqB;AAAA,QAIrBC,qBAJqB,GAQnBF,sBARmB,CAIrBE,qBAJqB;AAAA,QAKrBC,oBALqB,GAQnBH,sBARmB,CAKrBG,oBALqB;AAAA,QAMrBC,0BANqB,GAQnBJ,sBARmB,CAMrBI,0BANqB;AAAA,QAOrBC,0BAPqB,GAQnBL,sBARmB,CAOrBK,0BAPqB;AAUvB,QAAMC,eAAe,GAAGb,UAAU,CAACI,eAAD,CAAlC;AAVuB,QAWfU,WAXe,GAWoCD,eAXpC,CAWfC,WAXe;AAAA,QAWFC,aAXE,GAWoCF,eAXpC,CAWFE,aAXE;AAAA,QAWaC,kBAXb,GAWoCH,eAXpC,CAWaG,kBAXb,EAavB;;AACA,QAAMC,IAAI,GAAGhB,MAAM,CAAC,EAAD,CAAnB,CAduB,CAgBvB;;AACAC,EAAAA,SAAS,CAAC,MAAM;AACdM,IAAAA,kBAAkB;AAClB,WAAO,MAAM;AACXE,MAAAA,oBAAoB;AACpBC,MAAAA,0BAA0B;AAC1BC,MAAAA,0BAA0B;AAC1BG,MAAAA,aAAa;AACbC,MAAAA,kBAAkB;AACnB,KAND,CAFc,CASd;AACD,GAVQ,EAUN,EAVM,CAAT;;AAYA,QAAME,YAAY,GAAGC,CAAC,IAAI;AACxB,QAAIF,IAAI,CAACG,OAAL,CAAaC,KAAjB,EACEZ,qBAAqB,CAACU,CAAC,CAACG,MAAF,CAASD,KAAV,CAArB,CADF,KAGEV,0BAA0B;AAC7B,GALD;;AAOA,SACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,GAAG,EAAEM,IAFP;AAGE,IAAA,WAAW,EAAC,cAHd;AAIE,IAAA,QAAQ,EAAEC,YAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EASE;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,CADF,EAIE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CATF,CADF;AAkBD,CAtDD;;AAwDA,eAAeZ,UAAf","sourcesContent":["import React, { useContext, useRef, useEffect } from 'react';\nimport SearchableUsersContext from '../../contexts/searchableUsers/searchableUsersContext';\nimport RequestsContext from '../../contexts/requests/requestContext';\nimport SearchResults from './SearchResults';\n\nconst SearchPage = () => {\n  const searchableUsersContext = useContext(SearchableUsersContext);\n  const { \n    getSearchableUsers, \n    filterSearchableUsers, \n    clearSearchableUsers, \n    clearSearchableUsersFilter, \n    clearSearchableUsersErrors \n  } = searchableUsersContext;\n\n  const requestsContext = useContext(RequestsContext);\n  const { getRequests, clearRequests, clearRequestsError } = requestsContext;\n\n  //useState is async, so we use useRef which is sync\n  const text = useRef('');\n\n  //get users and clear everything when navigating away from page\n  useEffect(() => {\n    getSearchableUsers();\n    return () => {\n      clearSearchableUsers();\n      clearSearchableUsersFilter();\n      clearSearchableUsersErrors();\n      clearRequests();\n      clearRequestsError();\n    }\n    //eslint-disable-next-line\n  }, []);\n\n  const handleChange = e => {\n    if (text.current.value)\n      filterSearchableUsers(e.target.value);\n    else\n      clearSearchableUsersFilter();\n  };\n\n  return (\n    <div className='form-container'>\n      <form>\n        <input \n          type='text'\n          ref={text}\n          placeholder='Search Users'\n          onChange={handleChange}\n        />\n      </form>\n      <ul className='collection'>\n        <li className='collection-header'>\n          <h2>Search Results</h2>\n        </li>\n        <SearchResults/>\n      </ul>\n    </div>\n  );\n};\n\nexport default SearchPage;"]},"metadata":{},"sourceType":"module"}