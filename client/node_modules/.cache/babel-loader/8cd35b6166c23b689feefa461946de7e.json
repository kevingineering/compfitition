{"ast":null,"code":"import _objectSpread from \"/home/kevin/Documents/js_html_css/fitness_website/second_start/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { REGISTER_SUCCESS, REGISTER_FAIL, USER_LOADED, AUTH_ERROR, LOGIN_SUCCESS, LOGIN_FAIL, LOGOUT, UPDATE_SUCCESS, UPDATE_FAIL, PASSWORD_SUCCESS, PASSWORD_FAIL, USER_DELETED_SUCCESS, USER_DELETED_FAIL, SET_AUTH_LOADING, CLEAR_AUTH_ERRORS, GET_SEARCHABLE_USERS, SEARCHABLE_USERS_FAIL } from '../types';\nexport default ((state, action) => {\n  switch (action.type) {\n    case USER_LOADED:\n      return _objectSpread({}, state, {\n        isAuthenticated: true,\n        user: action.payload,\n        loading: false\n      });\n\n    case LOGIN_SUCCESS:\n    case REGISTER_SUCCESS:\n      localStorage.setItem('token', action.payload.token);\n      return _objectSpread({}, state, {\n        token: action.payload,\n        isAuthenticated: true,\n        error: null,\n        loading: false\n      });\n\n    case UPDATE_SUCCESS:\n      return _objectSpread({}, state, {\n        user: action.payload.user,\n        loading: false,\n        error: action.payload.msg\n      });\n\n    case LOGIN_FAIL:\n    case REGISTER_FAIL:\n    case AUTH_ERROR:\n    case USER_DELETED_SUCCESS:\n      localStorage.removeItem('token');\n      return _objectSpread({}, state, {\n        token: null,\n        isAuthenticated: false,\n        user: null,\n        searchableUsers: [],\n        error: action.payload,\n        loading: false\n      });\n\n    case LOGOUT:\n      localStorage.removeItem('token');\n      return _objectSpread({}, state, {\n        token: null,\n        isAuthenticated: false,\n        user: null,\n        searchableUsers: [],\n        error: null,\n        loading: false\n      });\n\n    case PASSWORD_SUCCESS:\n    case PASSWORD_FAIL:\n    case UPDATE_FAIL:\n    case USER_DELETED_FAIL:\n    case SEARCHABLE_USERS_FAIL:\n      return _objectSpread({}, state, {\n        error: action.payload,\n        loading: false\n      });\n\n    case SET_AUTH_LOADING:\n      return _objectSpread({}, state, {\n        loading: true\n      });\n\n    case CLEAR_AUTH_ERRORS:\n      return _objectSpread({}, state, {\n        error: null\n      });\n\n    case GET_SEARCHABLE_USERS:\n      return _objectSpread({}, state, {\n        searchableUsers: action.payload\n      });\n\n    default:\n      return state;\n  }\n\n  ;\n});","map":{"version":3,"sources":["/home/kevin/Documents/js_html_css/fitness_website/second_start/client/src/contexts/auth/authReducer.js"],"names":["REGISTER_SUCCESS","REGISTER_FAIL","USER_LOADED","AUTH_ERROR","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","UPDATE_SUCCESS","UPDATE_FAIL","PASSWORD_SUCCESS","PASSWORD_FAIL","USER_DELETED_SUCCESS","USER_DELETED_FAIL","SET_AUTH_LOADING","CLEAR_AUTH_ERRORS","GET_SEARCHABLE_USERS","SEARCHABLE_USERS_FAIL","state","action","type","isAuthenticated","user","payload","loading","localStorage","setItem","token","error","msg","removeItem","searchableUsers"],"mappings":";AAAA,SACEA,gBADF,EAEEC,aAFF,EAGEC,WAHF,EAIEC,UAJF,EAKEC,aALF,EAMEC,UANF,EAOEC,MAPF,EAQEC,cARF,EASEC,WATF,EAUEC,gBAVF,EAWEC,aAXF,EAYEC,oBAZF,EAaEC,iBAbF,EAcEC,gBAdF,EAeEC,iBAfF,EAgBEC,oBAhBF,EAiBEC,qBAjBF,QAkBO,UAlBP;AAoBA,gBAAe,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAChC,UAAOA,MAAM,CAACC,IAAd;AACE,SAAKjB,WAAL;AACE,+BACKe,KADL;AAEEG,QAAAA,eAAe,EAAE,IAFnB;AAGEC,QAAAA,IAAI,EAAEH,MAAM,CAACI,OAHf;AAIEC,QAAAA,OAAO,EAAE;AAJX;;AAMF,SAAKnB,aAAL;AACA,SAAKJ,gBAAL;AACEwB,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BP,MAAM,CAACI,OAAP,CAAeI,KAA7C;AACA,+BACKT,KADL;AAEES,QAAAA,KAAK,EAAER,MAAM,CAACI,OAFhB;AAGEF,QAAAA,eAAe,EAAE,IAHnB;AAIEO,QAAAA,KAAK,EAAE,IAJT;AAKEJ,QAAAA,OAAO,EAAE;AALX;;AAOF,SAAKhB,cAAL;AACE,+BACKU,KADL;AAEEI,QAAAA,IAAI,EAAEH,MAAM,CAACI,OAAP,CAAeD,IAFvB;AAGEE,QAAAA,OAAO,EAAE,KAHX;AAIEI,QAAAA,KAAK,EAAET,MAAM,CAACI,OAAP,CAAeM;AAJxB;;AAMF,SAAKvB,UAAL;AACA,SAAKJ,aAAL;AACA,SAAKE,UAAL;AACA,SAAKQ,oBAAL;AACEa,MAAAA,YAAY,CAACK,UAAb,CAAwB,OAAxB;AACA,+BACKZ,KADL;AAEES,QAAAA,KAAK,EAAE,IAFT;AAGEN,QAAAA,eAAe,EAAE,KAHnB;AAIEC,QAAAA,IAAI,EAAE,IAJR;AAKES,QAAAA,eAAe,EAAE,EALnB;AAMEH,QAAAA,KAAK,EAAET,MAAM,CAACI,OANhB;AAOEC,QAAAA,OAAO,EAAE;AAPX;;AASF,SAAKjB,MAAL;AACEkB,MAAAA,YAAY,CAACK,UAAb,CAAwB,OAAxB;AACA,+BACKZ,KADL;AAEES,QAAAA,KAAK,EAAE,IAFT;AAGEN,QAAAA,eAAe,EAAE,KAHnB;AAIEC,QAAAA,IAAI,EAAE,IAJR;AAKES,QAAAA,eAAe,EAAE,EALnB;AAMEH,QAAAA,KAAK,EAAE,IANT;AAOEJ,QAAAA,OAAO,EAAE;AAPX;;AASF,SAAKd,gBAAL;AACA,SAAKC,aAAL;AACA,SAAKF,WAAL;AACA,SAAKI,iBAAL;AACA,SAAKI,qBAAL;AACE,+BACKC,KADL;AAEEU,QAAAA,KAAK,EAAET,MAAM,CAACI,OAFhB;AAGEC,QAAAA,OAAO,EAAE;AAHX;;AAKF,SAAKV,gBAAL;AACE,+BACKI,KADL;AAEEM,QAAAA,OAAO,EAAE;AAFX;;AAIF,SAAKT,iBAAL;AACE,+BACKG,KADL;AAEEU,QAAAA,KAAK,EAAE;AAFT;;AAIF,SAAKZ,oBAAL;AACE,+BACKE,KADL;AAEEa,QAAAA,eAAe,EAAEZ,MAAM,CAACI;AAF1B;;AAIF;AACE,aAAOL,KAAP;AA5EJ;;AA6EC;AACF,CA/ED","sourcesContent":["import {\n  REGISTER_SUCCESS,\n  REGISTER_FAIL,\n  USER_LOADED,\n  AUTH_ERROR,\n  LOGIN_SUCCESS,\n  LOGIN_FAIL,\n  LOGOUT,\n  UPDATE_SUCCESS,\n  UPDATE_FAIL,\n  PASSWORD_SUCCESS,\n  PASSWORD_FAIL,\n  USER_DELETED_SUCCESS,\n  USER_DELETED_FAIL,\n  SET_AUTH_LOADING,\n  CLEAR_AUTH_ERRORS,\n  GET_SEARCHABLE_USERS,\n  SEARCHABLE_USERS_FAIL\n} from '../types';\n\nexport default (state, action) => {\n  switch(action.type) {\n    case USER_LOADED:\n      return {\n        ...state,\n        isAuthenticated: true,\n        user: action.payload,\n        loading: false\n      }\n    case LOGIN_SUCCESS:\n    case REGISTER_SUCCESS:\n      localStorage.setItem('token', action.payload.token)\n      return {\n        ...state,\n        token: action.payload,\n        isAuthenticated: true,\n        error: null,\n        loading: false\n      }\n    case UPDATE_SUCCESS:\n      return {\n        ...state,\n        user: action.payload.user,\n        loading: false,\n        error: action.payload.msg\n      }\n    case LOGIN_FAIL:\n    case REGISTER_FAIL:\n    case AUTH_ERROR:\n    case USER_DELETED_SUCCESS:\n      localStorage.removeItem('token');\n      return {\n        ...state,\n        token: null,\n        isAuthenticated: false,\n        user: null,\n        searchableUsers: [],\n        error: action.payload,\n        loading: false\n      }\n    case LOGOUT:\n      localStorage.removeItem('token');\n      return {\n        ...state,\n        token: null,\n        isAuthenticated: false,\n        user: null,\n        searchableUsers: [],\n        error: null,\n        loading: false\n      }\n    case PASSWORD_SUCCESS:\n    case PASSWORD_FAIL:\n    case UPDATE_FAIL:\n    case USER_DELETED_FAIL:\n    case SEARCHABLE_USERS_FAIL:\n      return {\n        ...state,\n        error: action.payload,\n        loading: false\n      }\n    case SET_AUTH_LOADING: \n      return {\n        ...state,\n        loading: true\n      }\n    case CLEAR_AUTH_ERRORS:\n      return {\n        ...state,\n        error: null\n      }\n    case GET_SEARCHABLE_USERS:\n      return {\n        ...state,\n        searchableUsers: action.payload\n      }\n    default: \n      return state\n  };\n};"]},"metadata":{},"sourceType":"module"}