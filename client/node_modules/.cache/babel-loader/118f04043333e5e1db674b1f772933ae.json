{"ast":null,"code":"import _slicedToArray from \"/home/kevin/Documents/js_html_css/fitness_website/second_start/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/kevin/Documents/js_html_css/fitness_website/second_start/client/src/contexts/invites/inviteState.js\";\nimport React, { useReducer } from 'react';\nimport axios from 'axios';\nimport InviteContext from './inviteContext';\nimport InviteReducer from './inviteReducer';\nimport { GET_INVITES, ADD_INVITE, DELETE_INVITE, DELETE_INVITES, INVITE_ERROR, CLEAR_INVITES, SET_INVITES_LOADING } from '../types';\n\nconst InviteState = props => {\n  const initialState = {\n    invites: [],\n    invitesError: null,\n    invitesLoading: true\n  };\n\n  const _useReducer = useReducer(InviteReducer, initialState),\n        _useReducer2 = _slicedToArray(_useReducer, 2),\n        state = _useReducer2[0],\n        dispatch = _useReducer2[1]; //get user invites\n\n\n  const getInvites = async () => {\n    console.log('getInvites');\n\n    try {\n      setLoading(); // const res = await axios.get('/api/invites');\n      // dispatch({ type: GET_INVITES, payload: { invites: res.data.invites, id: res.data.id }});\n    } catch (err) {\n      dispatch({\n        type: INVITE_ERROR,\n        payload: err.response.data.msg\n      });\n    }\n  }; //add invite\n\n\n  const addInvite = async invite => {\n    console.log('addInvite');\n\n    try {\n      setLoading(); // const res = await axios.post('/api/invites');\n      // dispatch({ type: ADD_INVITE, payload: res.data});\n    } catch (err) {\n      dispatch({\n        type: INVITE_ERROR,\n        payload: err.response.data.msg\n      });\n    }\n  }; //delete invite\n\n\n  const deleteInvite = async _id => {\n    console.log('deleteInvite');\n\n    try {\n      setLoading(); // const res = await axios.delete(`/api/invites/${_id}`);\n      // dispatch({ type: DELETE_INVITE, payload: res.data });\n    } catch (err) {\n      dispatch({\n        type: INVITE_ERROR,\n        payload: err.response.data.msg\n      });\n    }\n  }; //delete all invites associated with a competition\n\n\n  const deleteInvites = async _id => {\n    console.log('deleteInvites');\n\n    try {\n      setLoading(); // const res = await axios.delete(`/api/invites/${_id}`);\n      // dispatch({ type: DELETE_INVITE, payload: res.data });\n    } catch (err) {\n      dispatch({\n        type: INVITE_ERROR,\n        payload: err.response.data.msg\n      });\n    }\n  }; //set loading\n\n\n  const setLoading = () => {\n    console.log('setLoading');\n    return {\n      type: SET_INVITES_LOADING\n    };\n  }; //clear invites\n\n\n  const clearInvites = () => {\n    console.log('clearInvites');\n    dispatch({\n      type: CLEAR_INVITES\n    });\n  };\n\n  return React.createElement(InviteContext.Provider, {\n    value: {\n      invites: state.invites,\n      invitesError: state.invitesError,\n      invitesLoading: state.invitesLoading,\n      getInvites,\n      addInvite,\n      deleteInvite,\n      deleteInvites,\n      clearInvites\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, props.children);\n};\n\nexport default InviteState;","map":{"version":3,"sources":["/home/kevin/Documents/js_html_css/fitness_website/second_start/client/src/contexts/invites/inviteState.js"],"names":["React","useReducer","axios","InviteContext","InviteReducer","GET_INVITES","ADD_INVITE","DELETE_INVITE","DELETE_INVITES","INVITE_ERROR","CLEAR_INVITES","SET_INVITES_LOADING","InviteState","props","initialState","invites","invitesError","invitesLoading","state","dispatch","getInvites","console","log","setLoading","err","type","payload","response","data","msg","addInvite","invite","deleteInvite","_id","deleteInvites","clearInvites","children"],"mappings":"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","sourcesContent":["import React, { useReducer } from 'react';\nimport axios from 'axios';\nimport InviteContext from './inviteContext';\nimport InviteReducer from './inviteReducer';\nimport {\n  GET_INVITES,\n  ADD_INVITE,\n  DELETE_INVITE,\n  DELETE_INVITES,\n  INVITE_ERROR,\n  CLEAR_INVITES,\n  SET_INVITES_LOADING\n} from '../types';\n\nconst InviteState = props => {\n  const initialState = {\n    invites: [],\n    invitesError: null,\n    invitesLoading: true\n  };\n\n  const [state, dispatch] = useReducer(InviteReducer, initialState);\n\n  //get user invites\n  const getInvites = async () => {\n    console.log('getInvites')\n    try {\n      setLoading();\n      // const res = await axios.get('/api/invites');\n      // dispatch({ type: GET_INVITES, payload: { invites: res.data.invites, id: res.data.id }});\n    } catch (err) {\n      dispatch({ type: INVITE_ERROR, payload: err.response.data.msg });\n    }\n  };\n\n  //add invite\n  const addInvite = async invite => {\n    console.log('addInvite')\n    try {\n      setLoading();\n      // const res = await axios.post('/api/invites');\n      // dispatch({ type: ADD_INVITE, payload: res.data});\n    } catch (err) {\n      dispatch({ type: INVITE_ERROR, payload: err.response.data.msg });\n    }\n  };\n  \n  //delete invite\n  const deleteInvite = async _id => {\n    console.log('deleteInvite')\n    try {\n      setLoading();\n      // const res = await axios.delete(`/api/invites/${_id}`);\n      // dispatch({ type: DELETE_INVITE, payload: res.data });\n    } catch (err) {\n      dispatch({ type: INVITE_ERROR, payload: err.response.data.msg });\n    }\n  };\n\n  //delete all invites associated with a competition\n  const deleteInvites = async _id => {\n    console.log('deleteInvites')\n    try {\n      setLoading();\n      // const res = await axios.delete(`/api/invites/${_id}`);\n      // dispatch({ type: DELETE_INVITE, payload: res.data });\n    } catch (err) {\n      dispatch({ type: INVITE_ERROR, payload: err.response.data.msg });\n    }\n  };\n\n  //set loading\n  const setLoading = () => {\n    console.log('setLoading')\n    return { type: SET_INVITES_LOADING }\n  };\n\n  //clear invites\n  const clearInvites = () => {\n    console.log('clearInvites')\n    dispatch({ type: CLEAR_INVITES });\n  };\n\n  return (\n    <InviteContext.Provider\n    value={{\n      invites: state.invites,\n      invitesError: state.invitesError,\n      invitesLoading: state.invitesLoading,\n      getInvites,\n      addInvite,\n      deleteInvite,\n      deleteInvites,\n      clearInvites\n    }}>\n      {props.children}\n    </InviteContext.Provider>\n  )\n};\n\nexport default InviteState;"]},"metadata":{},"sourceType":"module"}