{"ast":null,"code":"import _slicedToArray from \"/home/kevin/Documents/js_html_css/fitness_website/second_start/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/kevin/Documents/js_html_css/fitness_website/second_start/client/src/components/goals/goalPieces/GoalButtons.js\";\nimport React, { useState, useContext } from 'react';\nimport GoalContext from '../../../contexts/goals/goalContext';\nimport AlertContext from '../../../contexts/alerts/alertContext';\nimport { Link, useHistory } from 'react-router-dom';\n\nconst GoalButtons = ({\n  isActive,\n  isOwner,\n  handleSave\n}) => {\n  const _useContext = useContext(GoalContext),\n        goalCurrent = _useContext.goalCurrent,\n        clearCurrentGoal = _useContext.clearCurrentGoal,\n        goalsError = _useContext.goalsError,\n        deleteGoal = _useContext.deleteGoal;\n\n  const _useContext2 = useContext(AlertContext),\n        setAlert = _useContext2.setAlert,\n        clearAlert = _useContext2.clearAlert;\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        deleteToggle = _useState2[0],\n        setDeleteToggle = _useState2[1];\n\n  let history = useHistory();\n\n  const handleDelete = async () => {\n    await deleteGoal(goalCurrent._id);\n\n    if (goalsError) {\n      setAlert(goalsError);\n    } else {\n      setAlert('Goal deleted!', true);\n      history.push('/');\n      clearCurrentGoal();\n    }\n  };\n\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, isActive && isOwner && React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-primary btn-block\",\n    onClick: () => handleSave(record),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"Save Goal\"), React.createElement(\"p\", {\n    className: \"lr-border\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  })), isActive && React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/goalform\",\n    className: \"btn btn-primary btn-block center\",\n    onClick: clearAlert,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Modify Goal\")), !deleteToggle && React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"lr-border\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"btn btn-primary btn-block\",\n    onClick: () => setDeleteToggle(true),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Delete Goal\")), deleteToggle && React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"alert lr-border\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Are you sure you want to delete this goal? Deletions cannot be undone.\"), React.createElement(\"button\", {\n    className: \"btn btn-primary btn-split\",\n    onClick: () => setDeleteToggle(false),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"No\"), React.createElement(\"button\", {\n    className: \"btn btn-danger btn-split\",\n    onClick: () => handleDelete(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"Yes\")));\n};\n\nexport default GoalButtons;","map":{"version":3,"sources":["/home/kevin/Documents/js_html_css/fitness_website/second_start/client/src/components/goals/goalPieces/GoalButtons.js"],"names":["React","useState","useContext","GoalContext","AlertContext","Link","useHistory","GoalButtons","isActive","isOwner","handleSave","goalCurrent","clearCurrentGoal","goalsError","deleteGoal","setAlert","clearAlert","deleteToggle","setDeleteToggle","history","handleDelete","_id","push","record"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport GoalContext from '../../../contexts/goals/goalContext';\nimport AlertContext from '../../../contexts/alerts/alertContext';\nimport { Link, useHistory } from 'react-router-dom';\n\nconst GoalButtons = ({isActive, isOwner, handleSave}) => {\n\n  const { \n    goalCurrent, \n    clearCurrentGoal, \n    goalsError, \n    deleteGoal, \n  } = useContext(GoalContext);\n\n  const { setAlert, clearAlert } = useContext(AlertContext);\n\n  const [deleteToggle, setDeleteToggle] = useState(false);\n\n  let history = useHistory();\n\n  const handleDelete = async () => {\n    await deleteGoal(goalCurrent._id);\n    if (goalsError) {\n      setAlert(goalsError);\n    }\n    else {\n      setAlert('Goal deleted!', true);\n      history.push('/');\n      clearCurrentGoal();\n    }\n  };\n\n  return (\n    <React.Fragment>\n      {/* SaveButton */}\n      { isActive && isOwner &&\n        <React.Fragment>\n          <button \n            className='btn btn-primary btn-block' \n            onClick={() => handleSave(record)}\n          >\n            Save Goal\n          </button>\n          <p className='lr-border' />\n        </React.Fragment>\n      }\n      {/* Modify Button */}\n      { isActive &&\n        <React.Fragment>\n          <Link \n            to='/goalform' \n            className='btn btn-primary btn-block center' \n            onClick={clearAlert}\n          >\n            Modify Goal\n          </Link>\n        </React.Fragment>\n      }\n      {/* Delete Button */}\n      {!deleteToggle &&\n        <React.Fragment>\n          <p className='lr-border'/>\n          <button \n            className='btn btn-primary btn-block' \n            onClick={() => setDeleteToggle(true)}\n          >\n            Delete Goal\n          </button>\n        </React.Fragment>\n      }\n      {/*Delete module*/}\n      {deleteToggle && (\n        <React.Fragment>\n          <hr/>\n          <span className='alert lr-border'>\n            Are you sure you want to delete this goal? Deletions cannot be undone.\n          </span>\n          <button\n            className='btn btn-primary btn-split'\n            onClick={() => setDeleteToggle(false)}\n          >No</button>\n          <button\n            className='btn btn-danger btn-split'\n            onClick={() => handleDelete()}\n          >Yes</button>\n        </React.Fragment>\n      )}\n    </React.Fragment>\n  )\n}\n\nexport default GoalButtons;"]},"metadata":{},"sourceType":"module"}