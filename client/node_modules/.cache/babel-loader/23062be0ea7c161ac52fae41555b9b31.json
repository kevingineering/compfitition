{"ast":null,"code":"import _slicedToArray from \"/home/kevin/Documents/js_html_css/fitness_website/second_start/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/kevin/Documents/js_html_css/fitness_website/second_start/client/src/contexts/competitions/competitionState.js\";\nimport React, { useReducer } from 'react';\nimport axios from 'axios';\nimport CompetitionContext from './competitionContext';\nimport CompetitionReducer from './competitionReducer';\nimport { GET_COMPETITION, GET_COMPETITION_GOALS, ADD_COMPETITION, DELETE_COMPETITION, UPDATE_COMPETITION, ADD_USER_TO_COMPETITION, REMOVE_USER_FROM_COMPETITION, ADD_ADMIN_TO_COMPETITION, REMOVE_ADMIN_FROM_COMPETITION, SET_COMPETITION_LOADING, CLEAR_COMPETITION, COMPETITION_ERROR } from '../types';\n\nconst CompetitionState = props => {\n  const initialState = {\n    competition: {},\n    competitionGoals: [],\n    competitionError: null,\n    competitionLoading: true\n  };\n\n  const _useReducer = useReducer(CompetitionReducer, initialState),\n        _useReducer2 = _slicedToArray(_useReducer, 2),\n        state = _useReducer2[0],\n        dispatch = _useReducer2[1]; //get competition\n\n\n  const getCompetition = async _id => {\n    try {\n      setLoading();\n      const res = await axios.get(`/api/competitions/${_id}`);\n      dispatch({\n        type: GET_COMPETITION,\n        payload: res.data\n      });\n    } catch (err) {\n      dispatch({\n        type: COMPETITION_ERROR,\n        payload: err.response.data.msg\n      });\n    }\n  }; //get competition goals for all participants\n\n\n  const getCompetitionGoals = async _id => {\n    try {\n      setLoading();\n      const res = await axios.get(`/api/competitions/goals/${_id}`);\n      dispatch({\n        type: GET_COMPETITION_GOALS,\n        payload: res.data\n      });\n    } catch (err) {\n      dispatch({\n        type: COMPETITION_ERROR,\n        payload: err.response.data.msg\n      });\n    }\n  }; //add competition\n\n\n  const addCompetition = async comp => {\n    try {\n      setLoading();\n      const res = await axios.post(`/api/competitions/${_id}`);\n      dispatch({\n        type: ADD_REQUEST,\n        payload: res.data\n      });\n    } catch (err) {\n      dispatch({\n        type: COMPETITION_ERROR,\n        payload: err.response.data.msg\n      });\n    }\n  }; //delete competition\n\n\n  const deleteCompetition = async (_id, password) => {\n    try {\n      setLoading(); // const res = await axios.delete(`/api/requests/${_id}`);\n      // dispatch({ type: DELETE_REQUEST, payload: res.data });\n    } catch (err) {\n      dispatch({\n        type: COMPETITION_ERROR,\n        payload: err.response.data.msg\n      });\n    }\n  }; //update competition\n\n\n  const updateCompetition = async comp => {\n    try {\n      setLoading(); //\n      //\n    } catch (err) {\n      dispatch({\n        type: COMPETITION_ERROR,\n        payload: err.response.data.msg\n      });\n    }\n  };\n\n  const addUserToCompetition = async _id => {\n    try {\n      setLoading(); //\n      //\n    } catch (err) {\n      dispatch({\n        type: COMPETITION_ERROR,\n        payload: err.response.data.msg\n      });\n    }\n  };\n\n  const removeUserFromCompetition = async _id => {\n    try {\n      setLoading(); //\n      //\n    } catch (err) {\n      dispatch({\n        type: COMPETITION_ERROR,\n        payload: err.response.data.msg\n      });\n    }\n  };\n\n  const addAdminToCompetition = async _id => {\n    try {\n      setLoading(); //\n      //\n    } catch (err) {\n      dispatch({\n        type: COMPETITION_ERROR,\n        payload: err.response.data.msg\n      });\n    }\n  };\n\n  const removeAdminFromCompetition = async _id => {\n    try {\n      setLoading(); //\n      //\n    } catch (err) {\n      dispatch({\n        type: COMPETITION_ERROR,\n        payload: err.response.data.msg\n      });\n    }\n  }; //set loading\n\n\n  const setLoading = () => {\n    return {\n      type: SET_COMPETITION_LOADING\n    };\n  }; //clear requests\n\n\n  const clearCompetition = () => {\n    dispatch({\n      type: CLEAR_COMPETITION\n    });\n  };\n\n  return React.createElement(CompetitionContext.Provider, {\n    value: {\n      competition: state.competition,\n      competitionGoals: state.competitionGoals,\n      competitionError: state.competitionError,\n      competitionLoading: state.competitionLoading,\n      getCompetition,\n      getCompetitionGoals,\n      addCompetition,\n      deleteCompetition,\n      updateCompetition,\n      addUserToCompetition,\n      removeUserFromCompetition,\n      addAdminToCompetition,\n      removeAdminFromCompetition,\n      clearCompetition\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, props.children);\n};\n\nexport default CompetitionState;","map":{"version":3,"sources":["/home/kevin/Documents/js_html_css/fitness_website/second_start/client/src/contexts/competitions/competitionState.js"],"names":["React","useReducer","axios","CompetitionContext","CompetitionReducer","GET_COMPETITION","GET_COMPETITION_GOALS","ADD_COMPETITION","DELETE_COMPETITION","UPDATE_COMPETITION","ADD_USER_TO_COMPETITION","REMOVE_USER_FROM_COMPETITION","ADD_ADMIN_TO_COMPETITION","REMOVE_ADMIN_FROM_COMPETITION","SET_COMPETITION_LOADING","CLEAR_COMPETITION","COMPETITION_ERROR","CompetitionState","props","initialState","competition","competitionGoals","competitionError","competitionLoading","state","dispatch","getCompetition","_id","setLoading","res","get","type","payload","data","err","response","msg","getCompetitionGoals","addCompetition","comp","post","ADD_REQUEST","deleteCompetition","password","updateCompetition","addUserToCompetition","removeUserFromCompetition","addAdminToCompetition","removeAdminFromCompetition","clearCompetition","children"],"mappings":"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","sourcesContent":["import React, { useReducer } from 'react';\nimport axios from 'axios';\nimport CompetitionContext from './competitionContext';\nimport CompetitionReducer from './competitionReducer';\nimport {\n  GET_COMPETITION,\n  GET_COMPETITION_GOALS,\n  ADD_COMPETITION,\n  DELETE_COMPETITION,\n  UPDATE_COMPETITION,\n  ADD_USER_TO_COMPETITION,\n  REMOVE_USER_FROM_COMPETITION,\n  ADD_ADMIN_TO_COMPETITION,\n  REMOVE_ADMIN_FROM_COMPETITION,\n  SET_COMPETITION_LOADING,\n  CLEAR_COMPETITION,\n  COMPETITION_ERROR\n} from '../types';\n\nconst CompetitionState = props => {\n  const initialState = {\n    competition: {},\n    competitionGoals: [],\n    competitionError: null,\n    competitionLoading: true\n  };\n\n  const [state, dispatch] = useReducer(CompetitionReducer, initialState);\n\n  //get competition\n  const getCompetition = async (_id) => {\n    try {\n      setLoading();\n      const res = await axios.get(`/api/competitions/${_id}`);\n      dispatch({ type: GET_COMPETITION, payload: res.data });\n    } catch (err) {\n      dispatch({ type: COMPETITION_ERROR, payload: err.response.data.msg });\n    }\n  };\n\n  //get competition goals for all participants\n  const getCompetitionGoals = async (_id) => {\n    try {\n      setLoading();\n      const res = await axios.get(`/api/competitions/goals/${_id}`);\n      dispatch({ type: GET_COMPETITION_GOALS, payload: res.data });\n    } catch (err) {\n      dispatch({ type: COMPETITION_ERROR, payload: err.response.data.msg });\n    }\n  }\n\n  //add competition\n  const addCompetition = async comp => {\n    try {\n      setLoading();\n      const res = await axios.post(`/api/competitions/${_id}`);\n      dispatch({ type: ADD_REQUEST, payload: res.data});\n    } catch (err) {\n      dispatch({ type: COMPETITION_ERROR, payload: err.response.data.msg });\n    }\n  };\n  \n  //delete competition\n  const deleteCompetition = async (_id, password) => {\n    try {\n      setLoading();\n      // const res = await axios.delete(`/api/requests/${_id}`);\n      // dispatch({ type: DELETE_REQUEST, payload: res.data });\n    } catch (err) {\n      dispatch({ type: COMPETITION_ERROR, payload: err.response.data.msg });\n    }\n  };\n\n  //update competition\n  const updateCompetition = async (comp) => {\n    try{\n      setLoading();\n    //\n    //\n    } catch (err) {\n      dispatch({ type: COMPETITION_ERROR, payload: err.response.data.msg });\n    }\n  };\n\n  const addUserToCompetition = async (_id) => {\n    try{\n      setLoading();\n    //\n    //\n    } catch (err) {\n      dispatch({ type: COMPETITION_ERROR, payload: err.response.data.msg });\n    }\n  }\n\n  const removeUserFromCompetition = async (_id) => {\n    try{\n      setLoading();\n    //\n    //\n    } catch (err) {\n      dispatch({ type: COMPETITION_ERROR, payload: err.response.data.msg });\n    }\n  }\n\n  const addAdminToCompetition = async (_id) => {\n    try{\n      setLoading();\n    //\n    //\n    } catch (err) {\n      dispatch({ type: COMPETITION_ERROR, payload: err.response.data.msg });\n    }\n  }\n\n  const removeAdminFromCompetition = async (_id) => {\n    try{\n      setLoading();\n    //\n    //\n    } catch (err) {\n      dispatch({ type: COMPETITION_ERROR, payload: err.response.data.msg });\n    }\n  }\n\n  //set loading\n  const setLoading = () => {\n    return { type: SET_COMPETITION_LOADING }\n  };\n\n  //clear requests\n  const clearCompetition = () => {\n    dispatch({ type: CLEAR_COMPETITION });\n  };\n\n  return (\n    <CompetitionContext.Provider\n    value={{\n      competition: state.competition,\n      competitionGoals: state.competitionGoals,\n      competitionError: state.competitionError,\n      competitionLoading: state.competitionLoading,\n      getCompetition,\n      getCompetitionGoals,\n      addCompetition,\n      deleteCompetition,\n      updateCompetition,\n      addUserToCompetition,\n      removeUserFromCompetition,\n      addAdminToCompetition,\n      removeAdminFromCompetition,\n      clearCompetition\n    }}>\n      {props.children}\n    </CompetitionContext.Provider>\n  )\n};\n\nexport default CompetitionState;"]},"metadata":{},"sourceType":"module"}